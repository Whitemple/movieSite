{"version":3,"file":"main-95fa915399388147a3b8.js","mappings":"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","sources":["webpack://pet_project_5_moviesite/./src/js/app.js","webpack://pet_project_5_moviesite/./src/index.html","webpack://pet_project_5_moviesite/./src/index.scss?106e","webpack://pet_project_5_moviesite/webpack/bootstrap","webpack://pet_project_5_moviesite/webpack/runtime/compat get default export","webpack://pet_project_5_moviesite/webpack/runtime/define property getters","webpack://pet_project_5_moviesite/webpack/runtime/hasOwnProperty shorthand","webpack://pet_project_5_moviesite/webpack/runtime/make namespace object","webpack://pet_project_5_moviesite/./src/index.js"],"sourcesContent":["const API_KEY = \"35382e03-7226-4c7b-9074-a5743781909c\";\nconst API_URL_POPULAR = 'https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_250_BEST_FILMS&page=3';\nconst API_URL_SEARCH = 'https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=';\nconst API_URL_DETAILS = 'https://kinopoiskapiunofficial.tech/api/v2.2/films/';\nconst movieEl = document.querySelector('.movies');\nconst form = document.querySelector('.form');\nconst searchInput = document.querySelector('.header__search');\nconst modalWindow = document.querySelector('.modal');\nconst uknownTime = 'Продолжительность неизвестна';\nconst d = document.body;\n\ngetMovie(API_URL_POPULAR);\nasync function getMovie(url){\n    const response = await fetch(url, {\n        headers:{\n            'Content-Type':'application/json',\n            'X-API-KEY': API_KEY\n        }\n    });\n    const responseData = await response.json();\n    createMovieCard(responseData);\n}\n\n// Change rate color\nfunction madeRateColored(rate){\n    if(rate >= 7) return 'green';\n    else if(rate>5) return 'orange';\n    else return 'red';\n}\n\n\nfunction createMovieCard(data){\n    data.films.forEach(movie=>{\n        const movieBox = document.createElement('div');\n        movieBox.classList.add('movie');\n        movieBox.innerHTML=`\n        <div class=\"movie__cover-inner\">\n            <img src=\"${movie.posterUrlPreview}\" class=\"movie__cover\" alt=\"title\">\n            <div class=\"movie__cover--darkend\"></div>\n        </div>\n        <div class=\"movie__info\">\n            <div class=\"movie__title\">${movie.nameRu}</div>\n            <div class=\"movie__categorie\">${movie.genres.map(genre => ` ${genre.genre}`)}</div>\n            ${movie.rating && `<div class=\"movie__average movie__average--${madeRateColored(movie.rating)}\">${movie.rating}</div>`}\n        </div>\n        `;\n        movieBox.addEventListener('click', () => showModal(movie.filmId));\n        movieEl.append(movieBox);\n    })\n}\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const apiSearchUrl = `${API_URL_SEARCH}${searchInput.value}`;\n    if(searchInput.value){\n        movieEl.innerHTML='';\n        getMovie(apiSearchUrl);\n        searchInput.value = '';\n    }\n    else{\n        alert('Фильм не найден!');\n    }\n});\n\n// Modal Window\nfunction showModal(id){\n    async function openModal(id){\n        const response = await fetch(API_URL_DETAILS+id, {\n            headers:{\n                'Content-Type':'application/json',\n                'X-API-KEY': API_KEY\n            }\n        });\n        const responseData = await response.json();\n\n        modalWindow.classList.add('modal--show');\n        d.classList.add('stop-scrolling');\n        modalWindow.innerHTML=`\n            <div class=\"modal__card\">\n                <img class=\"modal__movie-backdrop\" src=\"${responseData.posterUrl}\" alt=\"image\">\n                <h2>\n                    <span class=\"modal__movie-title\">${responseData.nameRu}</span>\n                    <span class=\"modal__movie-year\">${responseData.year}</span>\n                </h2>\n                <ul class=\"modal__movie-info\">\n                    <div class=\"loader\"></div>\n                    <li class=\"modal__movie-genre\">Жанр - ${responseData.genres.map((genre) => `<span>${genre.genre}</span>`)}</li>\n                    <li class=\"modal__movie-runtime\">Время (мин) - ${responseData.filmLength || uknownTime}</li>\n                    <li>Сайт: <a href=\"${responseData.webUrl}\" class=\"modal__movie-site\">${responseData.webUrl}</a></li>\n                    <li class=\"modal__movie-overview\">Описание - ${responseData.description}</li>\n                </ul>\n                <button type=\"button\" class=\"modal__button-close\">Закрыть</button>\n            </div>\n        `;\n        const btnClose = document.querySelector('.modal__button-close');\n        btnClose.addEventListener('click', () => closeModalWindow());\n    }\n    openModal(id);\n}\n\n// Close modal window\nfunction closeModalWindow(){\n    modalWindow.classList.remove('modal--show');\n    d.classList.remove('stop-scrolling');\n};\nwindow.addEventListener('click', (e) => {\n    if(e.target === modalWindow){\n        closeModalWindow();\n    }\n});\nwindow.addEventListener('keydown', (e) => {\n    if(e.code ==='Escape'){\n        closeModalWindow();\n    }\n});","// Module\nvar code = \"<!DOCTYPE html>\\n<html lang=\\\"ru\\\">\\n<head>\\n    <meta charset=\\\"UTF-8\\\">\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n    <title>Movie App</title>\\n</head>\\n<body>\\n    <header class=\\\"container\\\">\\n        <div class=\\\"header__content\\\">\\n            <a href=\\\"./index.html\\\" class=\\\"header__logo\\\">MovieApp</a>\\n            <form action=\\\"\\\" method=\\\"get\\\" class=\\\"form\\\">\\n                <input type=\\\"text\\\" name=\\\"search\\\" class=\\\"header__search\\\" placeholder=\\\"Поиск\\\">\\n            </form>\\n        </div>  \\n    </header>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"movies\\\"></div>\\n        <div class=\\\"modal\\\"></div>\\n    </div>\\n</body>\\n</html>\";\n// Exports\nexport default code;","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './index.html';\nimport './index.scss';\nimport './js/app.js';"],"names":["API_KEY","API_URL_POPULAR","API_URL_SEARCH","API_URL_DETAILS","movieEl","document","querySelector","form","searchInput","modalWindow","uknownTime","d","body","getMovie","url","response","fetch","headers","responseData","json","createMovieCard","madeRateColored","rate","data","films","forEach","movie","movieBox","createElement","classList","add","innerHTML","posterUrlPreview","nameRu","genres","map","genre","rating","addEventListener","showModal","filmId","append","e","preventDefault","apiSearchUrl","value","alert","id","openModal","posterUrl","year","filmLength","webUrl","description","btnClose","closeModalWindow","remove","window","target","code"],"sourceRoot":""}